{{- if eq $.Values.isHostedControlPlane "false" }}
---
apiVersion: config.openshift.io/v1
kind: OAuth
metadata:
  name: cluster
spec:
  identityProviders:
  - name: githubidp
    mappingMethod: claim 
    type: GitHub
    github:
      clientID: "{{ $.Values.githubClientId }}"
      clientSecret: 
        name: github-secret
      organizations: 
      - Ticq
  - name: htpasswd
    mappingMethod: claim
    type: HTPasswd
    htpasswd:
      fileData:
        name: htpass-secret
{{- end }}