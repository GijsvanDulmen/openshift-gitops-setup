name: team-backend
displayName: Super Team API backends

users:
- name: GijsvanDulmen

quotaType: "namespace"

# enable auto provising
enableTenantNamespaceAutoProvisioning: "true"
tenantProvisionedRepository: "https://github.com/GijsvanDulmen/openshift-gitops-tenants-setup"
tenantProvisionedBranch: "main"

assignEgressIp: "192.168.1.222"

ingressType: "istio"

namespaces:
- name: test
  containerLimits:
    max:
      cpu: "3"
  
  resourceQuota:
    limits.cpu: "12"
    requests.cpu: "10"

  gitops:
    repository: https://github.com/GijsvanDulmen/openshift-gitops-tenants-setup
    pullRequestEnvironments: "no" # hits limit quit fast
    pullRequestRepositoryOwner: "GijsvanDulmen"
    pullRequestRepository: "openshift-gitops-tenants-setup"

  # needs specific label and taints
  # see cluster templates
  # bindToNodes: "team-backend-apps"

- name: accept
  containerLimits:
    max:
      ephemeral-storage: "100Gi"

  # opens up 443 and 80 to this domain
  allowedEgressWebDomains:
  - tweakers.net
  - "192.168.1.184" # laptop

  gitops:
    repository: https://github.com/GijsvanDulmen/openshift-gitops-tenants-setup

  # Will create a certificate to use
  subdomain: "backend"

