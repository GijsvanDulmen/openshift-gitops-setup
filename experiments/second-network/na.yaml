---
apiVersion: "k8s.cni.cncf.io/v1"
kind: NetworkAttachmentDefinition
metadata:
  name: macvlan1
  namespace: default
spec:
  # add pods onto a network on ens19
  # range is dhcp for these pods
  # mode bridge connects every pod on this network
  config: '{
            "cniVersion": "0.3.1",
            "name": "macvlan-net",
            "type": "macvlan",
            "master": "ens19",
            "mode": "bridge",
            "ipam": {
              "type": "whereabouts",
              "range": "192.168.150.192/24"
            }
        }'
---
# give access to a host interface directly
apiVersion: "k8s.cni.cncf.io/v1"
kind: NetworkAttachmentDefinition
metadata:
  name: host-network
  namespace: default
spec:
  config: '{
            "cniVersion": "0.3.1",
            "name": "hostnetwork-net",
            "type": "host-device",
            "device": "ens19",
            "ipam": {
              "type": "static",
              "addresses": [
                {
                  "address": "192.168.122.251/24"
                }
              ]
            }
        }'